--------------------------------------------------------------------------------
Makelog started: 2023-06-22 11:44:50
Working directory: /export/home/dor/cxu/innovation_projs/analysis/science_geo/cns_descriptives/code
--------------------------------------------------------------------------------
External links successfully created!

  ___  ____  ____  ____  ____ ®
 /__    /   ____/   /   ____/      17.0
___/   /   /___/   /   /___/       MP—Parallel Edition

 Statistics and Data Science       Copyright 1985-2021 StataCorp LLC
                                   StataCorp
                                   4905 Lakeway Drive
                                   College Station, Texas 77845 USA
                                   800-STATA-PC        https://www.stata.com
                                   979-696-4600        stata@stata.com

Stata license: Unlimited-user 4-core, expiring 17 Nov 2023
Serial number: 501709306977
  Licensed to: Harvard Business School
               Research Computing

Notes:
      1. Stata is running in batch mode.
      2. Unicode is supported; see help unicode_advice.
      3. More than 2 billion observations are allowed; see help obs_advice.
      4. Maximum number of variables is set to 120,000; see help set_maxvar.

. do "/export/home/dor/cxu/innovation_projs/analysis/science_geo/cns_descriptiv
> es/code/analysis.do" 

. set more off

. clear all

. capture log close

. program drop _all

. set scheme modern

. pause on

. set seed 8975

. here, set
/export/home/dor/cxu/innovation_projs/analysis/science_geo/cns_descriptives/cod
> e/

. 
. program main
  1.     global country_name "countries"
  2.     global us_state_name "US states"
  3.     global area_name "US cities"
  4.     global city_full_name "cities"
  5.     global inst_name "institutions"
  6.     global msatitle_name "MSAs"
  7.     global msa_comb_name "MSAs"
  8.     global msa_world_name "metropolitan areas"
  9.     global msa_c_world_name "metropolitan areas"
 10.     foreach samp in cns {
 11.         di "OUTPUT START"
 12.         local samp_type = cond("`samp'" == "cns", "main", "robust")
 13.         foreach data in newfund { 
 14.             foreach var in cite_affl_wt {
 15.                 athr_loc, data(`data') samp(`samp') wt_var(`var')
 16.                 qui trends, data(`data') samp(`samp') wt_var(`var')
 17.             }
 18.             calc_broad_hhmi, data(`data') samp(`samp') 
 19.             top_mesh_terms, data(`data') samp(`samp') samp_type(`samp_type
> ')
 20.             qui output_tables, data(`data') samp(`samp') 
 21.         }
 22.     } 
 23.     top_mesh_terms, data(clin) samp(med) samp_type(clinical)
 24. end

. 
. program athr_loc
  1.     syntax, data(str) samp(str)  wt_var(str)
  2.     local suf = cond("`wt_var'" == "cite_affl_wt", "_wt", "") 
  3.     use ../external/cleaned_samps/cleaned_last5yrs_`data'_`samp', clear
  4.     foreach loc in country msa_c_world inst {
  5.         qui gunique pmid 
  6.         local articles = r(unique)
  7.         qui sum `wt_var'
  8.         local total = round(r(sum))
  9.         assert `total' == `articles'
 10.         qui sum `wt_var' if !mi(`loc') 
 11.         local denom = r(sum) 
 12.         preserve
 13.         if inlist("`loc'", "us_state", "area", "msatitle", "msa_comb") {
 14.             qui keep if country == "United States"
 15.         }
 16.         gcollapse (sum) `wt_var', by(`loc')
 17.         qui hashsort -`wt_var' 
 18.         qui gen perc = `wt_var' / `total' * 100
 19.         li if mi(`loc')
 20.         qui drop if mi(`loc')
 21.         qui gen cum_perc = sum(perc) 
 22.         qui count
 23.         local rank_end = min(r(N),20) 
 24.         li `loc' perc in 1/`rank_end'
 25.         di "Total articles: `total'"
 26.         mkmat perc cum_perc in 1/`rank_end', mat(top_`loc'_`samp'`suf')
 27.         mat top_`loc'_`data'_`samp' = nullmat(top_`loc'_`data'_`samp') , (
> top_`loc'_`samp'`suf')
 28.         qui levelsof `loc' in 1/2
 29.         global top2_`loc'_`data' "`r(levels)'"
 30.         if inlist("`loc'", "inst", "city_full", "msatitle","msa_comb", "ms
> aworld", "msa_c_world") {
 31.             qui levelsof `loc' in 1/`rank_end'
 32.             global `loc'_`data' "`r(levels)'"
 33.         }
 34.         qui gen rank_grp = "first" if _n == 1
 35.         replace `loc' = "harvard university" if `loc' == "university harva
> rd"
 36.         replace `loc' = "stanford university" if `loc' == "university stan
> ford"
 37.         qui levelsof `loc' if _n == 1 
 38.         global `loc'_first "`r(levels)'"
 39.         qui levelsof `loc' if _n == 2
 40.         global `loc'_second "`r(levels)'"
 41.         qui replace rank_grp = "second" if _n == 2
 42.         qui replace rank_grp = "china" if `loc' == "China"
 43.         qui replace rank_grp = "rest of top 10" if inrange(_n,3,10) & rank
> _grp!="china"
 44.         qui replace rank_grp = "remaining" if mi(rank_grp)
 45.         keep `loc' rank_grp
 46.         qui save ../temp/`loc'_rank_`data'_`samp'`suf', replace
 47.         restore
 48.     }
 49. end

. 
. program calc_broad_hhmi
  1.    syntax, data(str) samp(str) 
  2.    use ../external/cleaned_samps/cleaned_last5yrs_`data'_`samp', clear
  3.    qui gunique pmid which_athr
  4.    local num_athrs = r(unique)
  5.    qui gunique pmid which_athr if country == "United States"
  6.    local num_athrs_US = r(unique)
  7.    foreach i in broad hhmi {
  8.        qui gunique pmid which_athr if has_`i'_affl == 1
  9.        local num_`i' = r(unique)
 10.        di `num_`i'' " authors of " `num_athrs' " are " "`i' affiliated or 
> " `num_`i''/`num_athrs'*100 " percent"
 11.        qui gunique pmid which_athr if has_`i'_affl == 1 & country == "Unit
> ed States"
 12.        local num_`i'_US = r(unique)
 13.        di `num_`i'_US' " US authors of " `num_athrs_US' " are " "`i' affil
> iated or " `num_`i'_US'/`num_athrs_US'*100 " percent"
 14.        // hhmi has to be us
.        preserve
 15.        keep if country == "United States"
 16.        qui gunique pmid which_athr if has_`i'_affl == 1 & inst == "Stanfor
> d University" 
 17.        local num_`i'_stanford = r(unique)
 18.        di `num_`i'_stanford' " stanford authors of " `num_`i'_US' " are " 
> "`i' affiliated or " `num_`i'_stanford'/`num_`i'_US'*100 " percent"
 19.        qui gunique pmid which_athr if has_`i'_affl == 1 & inst == "Harvard
>  University" 
 20.        local num_`i'_harvard = r(unique)
 21.        di `num_`i'_harvard' " harvard authors of " `num_`i'_US' " are " "`
> i' affiliated or " `num_`i'_harvard'/`num_`i'_US'*100 " percent"
 22.        restore
 23.        if "`i'" == "broad" {
 24.            qui count if  inlist(inst, "Harvard University", "Massachusetts
>  Institute of Technology", "Boston Children's Hospital", "Dana Farber Cancer 
> Institute", "Massachusetts General Hospital", "Brigham and Women's Hospital",
>  "Beth Israel Deaconess Medical Center")
 25.            if r(N) > 0 {
 26.                preserve
 27.                keep if inlist(inst, "Harvard University", "Massachusetts I
> nstitute of Technology", "Boston Children's Hospital", "Dana Farber Cancer In
> stitute", "Massachusetts General Hospital", "Brigham and Women's Hospital", "
> Beth Israel Deaconess Medical Center")
 28.                qui gunique pmid which_athr if has_`i'_affl == 1 
 29.                local num_athrs_broad = r(unique)
 30.                qui gunique pmid which_athr if has_`i'_affl == 1 & inst == 
> "Harvard University" 
 31.                local num_`i'_harvard = r(unique)
 32.                di `num_`i'_harvard' " harvard authors of " `num_athrs_broa
> d' " are " "`i' affiliated or " `num_`i'_harvard'/`num_athrs_broad'*100 " per
> cent"
 33.                qui gunique pmid which_athr if has_`i'_affl == 1 & inst == 
> "Massachusetts Institute of Technology" 
 34.                local num_`i'_mit= r(unique)
 35.                di `num_`i'_mit' " mit authors of " `num_athrs_broad' " are
>  " "`i' affiliated or " `num_`i'_mit'/`num_athrs_broad'*100 " percent"
 36.                restore 
 37.            }
 38.         }
 39.     }
 40. end

. 
. program trends
  1.     syntax, data(str) samp(str)  wt_var(str)
  2.     local suf = cond("`wt_var'" == "cite_affl_wt", "_wt", "") 
  3.     use ../external/cleaned_samps/cleaned_all_`data'_`samp', clear
  4.     cap drop counter
  5. 
.     gen msa_world = msatitle
  6.     replace msa_world = city if country != "United States"
  7.     qui bys pmid year: gen counter = _n == 1
  8.     qui bys year: egen tot_in_yr = total(counter)
  9.     foreach loc in country  msa_c_world inst {
 10.         preserve
 11.         replace `loc' = "harvard university" if `loc' == "university harva
> rd"
 12.         replace `loc' = "stanford university" if `loc' == "university stan
> ford"
 13.         qui merge m:1 `loc' using ../temp/`loc'_rank_`data'_`samp'`suf', a
> ssert(1 3) keep(1 3) nogen
 14.         if "`loc'" == "inst" {
 15.             replace `loc' = strproper(`loc')
 16.         }
 17.         qui sum year
 18.         local min_year = max(1988,r(min))
 19.         qui egen year_bin  = cut(year),  at(1988 1991 1993 1995 1997 1999 
> 2001 2003 2007 2009 2011 2013 2015 2017 2019 2021 2023)
 20.         keep if which_athr == 1
 21.         qui replace affl_wt = 1/num_affls
 22.         local year_var year_bin
 23.         qui bys pmid `year_var': replace counter = _n == 1
 24.         qui bys `year_var': egen tot_in_`year_var' = total(counter)
 25.         qui replace rank_grp = "remaining" if mi(rank_grp)
 26.         bys pmid: replace cite_count = . if _n !=1 
 27.         qui bys `year_var': egen tot_cites_in_`year_var' = total(cite_coun
> t)
 28.         replace cite_wt = cite_count/ tot_cites_in_`year_var' * tot_in_`ye
> ar_var'
 29.         hashsort pmid cite_wt
 30.         qui by pmid: replace cite_wt = cite_wt[_n-1] if mi(cite_wt)
 31.         replace cite_affl_wt = affl_wt * cite_wt
 32.         collapse (sum) `wt_var' (mean) tot_in_`year_var' (firstnm) `loc' ,
>  by(rank_grp `year_var')
 33.         qui gen perc = `wt_var'/tot_in_`year_var' * 100
 34.         qui bys `year_var': egen tot = sum(perc)
 35.         qui replace tot = round(tot)
 36.         assert tot==100
 37.         qui drop tot
 38.         if "`loc'" == "city_full" | "`loc'" == "msatitle" | "`loc'" == "ms
> a_world" |  "`loc'" == "msa_c_world" | "`loc'" == "msa_comb" {
 39.             label define rank_grp 1 ${`loc'_first} 2 ${`loc'_second} 3 "Re
> st of the top 10 ${`loc'_name}" 4 "Remaining places"
 40.         }
 41.         if "`loc'" == "inst" {
 42.             local proper_1 = strproper(${`loc'_first})
 43.             local proper_2 = strproper(${`loc'_second})
 44.             label define rank_grp 1 "`proper_1'" 2 "`proper_2'" 3 "Rest of
>  the top 10 ${`loc'_name}" 4 "Remaining places"
 45.         }
 46.         if "`loc'" == "country" {
 47.             label define rank_grp 1 ${`loc'_first} 2 ${`loc'_second} 3 "Ch
> ina" 4 "Rest of the top 10 ${`loc'_name}" 5 "Remaining places"
 48.         }
 49.         label var rank_grp rank_grp
 50.         qui gen group = 1 if rank_grp == "first"
 51.         qui replace group = 2 if rank_grp == "second"
 52.         qui replace group = 3 if rank_grp == "china" & "`loc'" == "country
> "
 53.         local last = 2
 54.         if "`loc'" == "country" local last = 3 
 55.         qui replace group = `last'+1 if rank_grp == "rest of top 10" 
 56.         qui replace group = `last'+2 if rank_grp == "remaining"
 57.         qui hashsort `year_var' -group
 58.         qui bys `year_var': gen stack_perc = sum(perc)
 59.         keep rank_grp `year_var' `loc' perc group stack_perc
 60.         local stacklines
 61.         qui xtset group `year_var' 
 62.         qui levelsof group, local(rank_grps)
 63.         local items = `r(r)'
 64.         foreach x of local rank_grps {
 65.            colorpalette HTML purple, n(`items') nograph
 66.            local stacklines `stacklines' area stack_perc `year_var' if gro
> up == `x', fcolor("`r(p`x')'") lcolor(black) lwidth(*0.2) || 
 67.         }
 68.         qui gen labely = . 
 69.         qui gen rev_group = -group
 70.         if "`loc'"=="country" {
 71.             qui bys `year_var' (rev_group): replace labely = perc/2 if gro
> up == 5
 72.             qui bys `year_var' (rev_group): replace labely = perc/2 + perc
> [_n-1] if group == 4
 73.             qui bys `year_var' (rev_group): replace labely = perc/2 + perc
> [_n-1] + perc[_n-2] if group == 3
 74.             qui bys `year_var' (rev_group): replace labely = perc/2 + perc
> [_n-1] + perc[_n-2] + perc[_n-3] if group == 2
 75.             qui bys `year_var' (rev_group): replace labely = perc/2 + perc
> [_n-1] + perc[_n-2] + perc[_n-3] + perc[_n-4] if group == 1
 76.         }
 77.         if "`loc'"!="country" {
 78.             qui bys `year_var' (rev_group): replace labely = perc/2 if gro
> up == 4
 79.             qui bys `year_var' (rev_group): replace labely = perc/2 + perc
> [_n-1] if group == 3
 80.             qui bys `year_var' (rev_group): replace labely = perc/2 + perc
> [_n-1] + perc[_n-2] if group == 2
 81.             qui bys `year_var' (rev_group): replace labely = perc/2 + perc
> [_n-1] + perc[_n-2] + perc[_n-3] if group == 1
 82.         }
 83.         qui gen labely_lab = "Everywhere else" if group == `last'+2
 84.         qui replace labely_lab = "Rest of the top 10 ${`loc'_name}" if gro
> up == `last'+1
 85.         qui replace labely_lab = "China" if group == 3 & "`loc'"=="country
> "
 86.         qui replace labely_lab = ${`loc'_second} if group == 2
 87.         qui replace labely_lab = ${`loc'_first} if group == 1
 88.         qui replace labely_lab = strproper(${`loc'_second}) if group == 2 
> & "`loc'" == "inst"
 89.         qui replace labely_lab = strproper(${`loc'_first}) if group == 1 &
>  "`loc'" == "inst"
 90.         qui replace labely_lab = subinstr(labely_lab, "United States", "US
> ", .)
 91.         qui replace labely_lab = subinstr(labely_lab, "MA-NH", "US", .) if
>  strpos("`loc'" , "world")>0
 92.         qui replace labely_lab = subinstr(labely_lab, "NY-NJ-PA", "US", .)
>  if strpos("`loc'" , "world")>0
 93.         qui replace labely_lab = subinstr(labely_lab, "CA", "US", .) if st
> rpos("`loc'" , "world")>0
 94.         qui replace labely_lab = subinstr(labely_lab, "United Kingdom", "U
> K", .)
 95.         qui sum `year_var'
 96.         replace `year_var' = 2022 if `year_var' == r(max)
 97.         if "`loc'" == "country" {
 98.             graph tw `stacklines' (scatter labely `year_var' if `year_var'
>  ==2022, ms(smcircle) ///
>               msize(0.2) mcolor(black%40) mlabsize(vsmall) mlabcolor(black) m
> label(labely_lab)), ///
>               ytitle("Share of Worldwide Fundamental Science Research Output"
> , size(vsmall)) xtitle("Year", size(vsmall)) xlabel(`min_year'(2)2022, angle(
> 45) labsize(vsmall)) ylabel(0(10)100, labsize(vsmall)) ///
>               graphregion(margin(r+32)) plotregion(margin(zero)) ///
>               legend(off label(1 ${`loc'_first}) label(2 ${`loc'_second}) lab
> el(3 "China") label(4 "Rest of the top 10 ${`loc'_name}") label(5 "Remaining 
> places") ring(1) pos(6) rows(2))
 99.             qui graph export ../output/figures/`loc'_stacked_`data'_`samp'
> `suf'.pdf , replace 
100.         }
101.         local w = 32 
102.         if ("`loc'" == "msatitle" | "`loc'" == "msa_world" | "`loc'" == "m
> sa_c_world" | "`loc'" == "msa_comb") local w = 32
103.         if "`loc'" != "country" {
104.             graph tw `stacklines' (scatter labely `year_var' if `year_var'
>  ==2022, ms(smcircle) ///
>               msize(0.2) mcolor(black%40) mlabsize(vsmall) mlabcolor(black) m
> label(labely_lab)), ///
>               ytitle("Share of Worldwide Fundamental Science Research Output"
> , size(vsmall)) xtitle("Year", size(vsmall)) xlabel(`min_year'(2)2022, angle(
> 45) labsize(vsmall)) ylabel(0(10)100, labsize(vsmall)) ///
>               graphregion(margin(r+`w')) plotregion(margin(zero)) ///
>               legend(off label(1 ${`loc'_first}) label(2 ${`loc'_second}) lab
> el(3 "Rest of the top 10 ${`loc'_name}") label(4 "Remaining places") ring(1) 
> pos(6) rows(2))
105.             qui graph export ../output/figures/`loc'_stacked_`data'_`samp'
> `suf'.pdf , replace 
106.         }
107.         restore
108.     }
109. end 

.     
. program top_mesh_terms
  1.     syntax, data(str) samp(str) samp_type(str)
  2.     use ../external/`samp_type'_split/mesh_`data'_`samp'.dta, clear 
  3.     cap keep pmid mesh which_mesh cat journal_abbr
  4.     qui merge m:1 pmid using ../external/cleaned_samps/list_of_pmids_`data
> '_`samp', assert(1 2 3) keep(3) nogen
  5.     gunique pmid
  6.     cap drop _merge
  7.     qui gunique pmid
  8.     local total_articles = r(unique)
  9.     qui replace mesh = subinstr(mesh, "=Y>","",.)
 10.     qui replace mesh = subinstr(mesh, "=N>","",.)
 11.     qui gen gen_mesh = mesh if strpos(mesh, ",") == 0 & strpos(mesh, ";") 
> == 0
 12.     qui replace gen_mesh = mesh if strpos(mesh, "Models") > 0
 13.     qui replace gen_mesh = subinstr(gen_mesh, "&; ", "&",.)
 14.     qui gen rev_mesh = reverse(mesh)
 15.     qui replace rev_mesh = substr(rev_mesh, strpos(rev_mesh, ",")+1, strle
> n(rev_mesh)-strpos(rev_mesh, ","))
 16.     qui replace rev_mesh = reverse(rev_mesh)
 17.     qui replace gen_mesh = rev_mesh if mi(gen_mesh) 
 18.     qui drop rev_mesh
 19.     preserve
 20.     qui contract pmid mesh, nomiss
 21.     qui save ../temp/contracted_mesh_`data'_`samp', replace
 22.     restore
 23.     contract pmid gen_mesh, nomiss
 24.     qui save ../temp/contracted_gen_mesh_`data'_`samp', replace
 25. 
.     foreach mesh in gen_mesh {
 26.         use ../temp/contracted_`mesh'_`data'_`samp', clear
 27.         qui bys pmid: gen wt = 1/_N
 28.         qui bys pmid: gen num_`mesh' = _N
 29.         sum num_`mesh'
 30.         cap drop _freq
 31.         collapse (sum) article_wt = wt , by(`mesh')
 32.         qui hashsort -article_wt
 33.         qui gen perc = article_wt/`total_articles'*100
 34.         qui gen cum_perc = sum(perc) 
 35.         qui sum article_wt
 36.         local total = round(r(sum))
 37.         qui count
 38.         local rank_end = min(20,r(N))
 39.         li in 1/`rank_end'
 40.         mkmat article_wt perc cum_perc in 1/`rank_end', mat(top_`mesh'_`sa
> mp')
 41.         mat top_`mesh'_`data'_`samp' = top_`mesh'_`samp' \ (.,`total', .)
 42.         qui levelsof `mesh' in 1/3, local(`mesh'_terms_`data')
 43.         qui gen rank = _n
 44.         qui replace rank = 4 if rank > 3
 45.         qui replace `mesh' = "other" if rank == 4
 46.         qui gen inst = "total"
 47.         collapse (sum) article_wt perc cum_perc, by(inst `mesh' rank)
 48.         drop rank
 49.         qui save ../temp/`mesh'_`data'_`samp', replace
 50.     }
 51. end

. 
. program output_tables
  1.     syntax, data(str) samp(str)
  2.     foreach file in top_country top_msa_c_world top_inst top_gen_mesh { 
  3.         qui matrix_to_txt, saving("../output/tables/`file'_`data'_`samp'.t
> xt") matrix(`file'_`data'_`samp') ///
>            title(<tab:`file'_`data'_`samp'>) format(%20.4f) replace
  4.          }
  5.  end

. ** 
. main
OUTPUT START

     +-------------------------------+
     | country   cite_a~t       perc |
     |-------------------------------|
 26. |           11.30391   .1237293 |
     +-------------------------------+

     +---------------------------+
     |        country       perc |
     |---------------------------|
  1. |  United States   53.66719 |
  2. | United Kingdom   9.330086 |
  3. |        Germany   7.313207 |
  4. |          China   7.178954 |
  5. |    Switzerland   2.469471 |
     |---------------------------|
  6. |         France   2.258205 |
  7. |         Canada   1.932428 |
  8. |          Japan   1.843743 |
  9. |      Australia   1.816167 |
 10. |    Netherlands   1.665762 |
     |---------------------------|
 11. |         Sweden   1.647837 |
 12. |         Israel   1.188567 |
 13. |        Belgium   .8316589 |
 14. |          Spain   .7506588 |
 15. |        Austria   .7273714 |
     |---------------------------|
 16. |          Italy   .6931202 |
 17. |    South Korea   .5892969 |
 18. |        Denmark   .4954877 |
 19. |   South Africa     .43413 |
 20. |      Singapore   .4292138 |
     +---------------------------+
Total articles: 9136
(0 real changes made)
(0 real changes made)

      +--------------------------------+
      | msa_c_~d   cite_a~t       perc |
      |--------------------------------|
  30. |            61.58675   .6741107 |
      +--------------------------------+

     +-------------------------------------------------+
     |                          msa_c_world       perc |
     |-------------------------------------------------|
  1. |          Boston-Cambridge-Newton, US   11.53412 |
  2. |                         Bay Area, US   7.902047 |
  3. |      New York-Newark-Jersey City, US   6.624956 |
  4. |               London, United Kingdom   3.428584 |
  5. |                       Beijing, China   3.328054 |
     |-------------------------------------------------|
  6. |               San Diego-Carlsbad, US   2.752685 |
  7. |  Washington-Arlington-Alexandria, US   2.378256 |
  8. |          Seattle-Tacoma-Bellevue, US   2.035517 |
  9. |            Cambridge, United Kingdom   2.009866 |
 10. |   Los Angeles-Long Beach-Anaheim, US   1.929355 |
     |-------------------------------------------------|
 11. |               Oxford, United Kingdom   1.380636 |
 12. |                      Shanghai, China      1.229 |
 13. |   Philadelphia-Camden-Wilmington, US   1.174153 |
 14. |      Dallas-Fort Worth-Arlington, US   1.138615 |
 15. | Houston-The Woodlands-Sugar Land, US   1.111512 |
     |-------------------------------------------------|
 16. |                New Haven-Milford, US   1.094718 |
 17. |         Chicago-Naperville-Elgin, US   1.083388 |
 18. |           Research Triangle Park, US   1.079174 |
 19. |                        Paris, France   1.003412 |
 20. |                        St. Louis, US   .9916466 |
     +-------------------------------------------------+
Total articles: 9136
(0 real changes made)
(0 real changes made)

      +---------------------------+
      | inst   cite_a~t      perc |
      |---------------------------|
   3. |        226.5974   2.48027 |
      +---------------------------+

     +--------------------------------------------------+
     |                                  inst       perc |
     |--------------------------------------------------|
  1. |                    university harvard   4.637217 |
  2. |                   university stanford   3.266204 |
  3. |   university california san francisco    1.81853 |
  4. |                            max planck   1.736545 |
  5. |          massachusetts institute tech   1.710399 |
     |--------------------------------------------------|
  6. |                 university washington   1.667081 |
  7. |               chinese academy science    1.57208 |
  8. |                                   nih   1.317817 |
  9. |                     university oxford   1.284681 |
 10. |                              deepmind   1.248491 |
     |--------------------------------------------------|
 11. |        university california berkeley   1.214909 |
 12. |                   university columbia   1.138646 |
 13. |            university the rockefeller   1.134905 |
 14. |                       university yale   1.068546 |
 15. | memorial sloankettering cancer center   1.066472 |
     |--------------------------------------------------|
 16. |       university california san diego   1.016183 |
 17. |                                 broad   .9627934 |
 18. |        university washington st louis   .9412937 |
 19. |                    university cornell   .9146767 |
 20. |                  university cambridge   .8970922 |
     +--------------------------------------------------+
Total articles: 9136
(1 real change made)
(1 real change made)
2523 authors of 140210 are broad affiliated or 1.7994437 percent
2404 US authors of 77274 are broad affiliated or 3.1110076 percent
(112,820 observations deleted)
. stanford authors of 2404 are broad affiliated or . percent
. harvard authors of 2404 are broad affiliated or . percent
4065 authors of 140210 are hhmi affiliated or 2.8992226 percent
4061 US authors of 77274 are hhmi affiliated or 5.2553252 percent
(112,820 observations deleted)
. stanford authors of 4061 are hhmi affiliated or . percent
. harvard authors of 4061 are hhmi affiliated or . percent
N = 177,641; 38,065 unbalanced groups of sizes 1 to 24

    Variable |        Obs        Mean    Std. dev.       Min        Max
-------------+---------------------------------------------------------
num_gen_mesh |    163,221    4.942091    1.715771          1         14

     +--------------------------------------------------------------------+
     |                          gen_mesh   articl~t       perc   cum_perc |
     |--------------------------------------------------------------------|
  1. |             Transcription Factors   394.9892    1.03767    1.03767 |
  2. |              DNA-Binding Proteins   366.3111   .9623304   2.000001 |
  3. |                             Genes   314.8599   .8271638   2.827164 |
  4. |          Saccharomyces cerevisiae   308.1882   .8096367   3.636801 |
  5. |               Signal Transduction   298.0215   .7829278   4.419729 |
     |--------------------------------------------------------------------|
  6. |                           Neurons   296.2214   .7781989   5.197927 |
  7. |        Gene Expression Regulation   294.8762   .7746649   5.972593 |
  8. |                 Membrane Proteins   256.4711   .6737716   6.646364 |
  9. |                               DNA   236.0798   .6202016   7.266566 |
 10. |                          Proteins   226.4619   .5949347   7.861501 |
     |--------------------------------------------------------------------|
 11. | Saccharomyces cerevisiae Proteins   217.4529   .5712673   8.432768 |
 12. |           Drosophila melanogaster   205.4707   .5397891   8.972557 |
 13. |                Bacterial Proteins   196.5683   .5164016   9.488958 |
 14. |               Drosophila Proteins   190.4185   .5002457   9.989204 |
 15. |                  Nuclear Proteins   188.3991   .4949405   10.48415 |
     |--------------------------------------------------------------------|
 16. |                  Escherichia coli   180.4718   .4741148   10.95826 |
 17. |                  Carrier Proteins   172.2348   .4524755   11.41074 |
 18. |                     Transcription   159.4449   .4188754   11.82961 |
 19. |                     T-Lymphocytes   156.2262   .4104195   12.24003 |
 20. |                       Arabidopsis   155.9616   .4097244   12.64975 |
     +--------------------------------------------------------------------+
N = 73,740; 20,359 unbalanced groups of sizes 1 to 15

    Variable |        Obs        Mean    Std. dev.       Min        Max
-------------+---------------------------------------------------------
num_gen_mesh |     72,030    4.200083     1.59246          1         12

     +----------------------------------------------------------------------+
  1. |                                       gen_mesh | articl~t |     perc |
     |                          Myocardial Infarction | 152.2417 | .7477856 |
     |----------------------------------------------------------------------|
     |                               cum_perc                               |
     |                               .7477856                               |
     +----------------------------------------------------------------------+

     +----------------------------------------------------------------------+
  2. |                                       gen_mesh | articl~t |     perc |
     |                                Family Practice | 144.0429 | .7075144 |
     |----------------------------------------------------------------------|
     |                               cum_perc                               |
     |                                 1.4553                               |
     +----------------------------------------------------------------------+

     +----------------------------------------------------------------------+
  3. |                                       gen_mesh | articl~t |     perc |
     |                               Breast Neoplasms | 136.8599 |  .672233 |
     |----------------------------------------------------------------------|
     |                               cum_perc                               |
     |                               2.127533                               |
     +----------------------------------------------------------------------+

     +----------------------------------------------------------------------+
  4. |                                       gen_mesh | articl~t |     perc |
     |                                 HIV Infections | 128.4124 | .6307401 |
     |----------------------------------------------------------------------|
     |                               cum_perc                               |
     |                               2.758273                               |
     +----------------------------------------------------------------------+

     +----------------------------------------------------------------------+
  5. |                                       gen_mesh | articl~t |     perc |
     |                               Coronary Disease | 122.1211 | .5998383 |
     |----------------------------------------------------------------------|
     |                               cum_perc                               |
     |                               3.358111                               |
     +----------------------------------------------------------------------+

     +----------------------------------------------------------------------+
  6. |                                       gen_mesh | articl~t |     perc |
     |                        Cardiovascular Diseases | 113.3171 | .5565944 |
     |----------------------------------------------------------------------|
     |                               cum_perc                               |
     |                               3.914706                               |
     +----------------------------------------------------------------------+

     +----------------------------------------------------------------------+
  7. |                                       gen_mesh | articl~t |     perc |
     |                                         Asthma |  104.419 | .5128889 |
     |----------------------------------------------------------------------|
     |                               cum_perc                               |
     |                               4.427595                               |
     +----------------------------------------------------------------------+

     +----------------------------------------------------------------------+
  8. |                                       gen_mesh | articl~t |     perc |
     |                                   Hypertension | 102.9354 | .5056012 |
     |----------------------------------------------------------------------|
     |                               cum_perc                               |
     |                               4.933196                               |
     +----------------------------------------------------------------------+

     +----------------------------------------------------------------------+
  9. |                                       gen_mesh | articl~t |     perc |
     |                                      Mortality | 89.25714 | .4384162 |
     |----------------------------------------------------------------------|
     |                               cum_perc                               |
     |                               5.371612                               |
     +----------------------------------------------------------------------+

     +----------------------------------------------------------------------+
 10. |                                       gen_mesh | articl~t |     perc |
     |                                      Neoplasms | 87.65595 | .4305514 |
     |----------------------------------------------------------------------|
     |                               cum_perc                               |
     |                               5.802164                               |
     +----------------------------------------------------------------------+

     +----------------------------------------------------------------------+
 11. |                                       gen_mesh | articl~t |     perc |
     |             Acquired Immunodeficiency Syndrome | 87.04762 | .4275633 |
     |----------------------------------------------------------------------|
     |                               cum_perc                               |
     |                               6.229727                               |
     +----------------------------------------------------------------------+

     +----------------------------------------------------------------------+
 12. |                                       gen_mesh | articl~t |     perc |
     |                                        Smoking | 83.77897 | .4115083 |
     |----------------------------------------------------------------------|
     |                               cum_perc                               |
     |                               6.641235                               |
     +----------------------------------------------------------------------+

     +----------------------------------------------------------------------+
 13. |                                       gen_mesh | articl~t |     perc |
     |                      Diabetes Mellitus, Type 2 | 81.81191 | .4018464 |
     |----------------------------------------------------------------------|
     |                               cum_perc                               |
     |                               7.043081                               |
     +----------------------------------------------------------------------+

     +----------------------------------------------------------------------+
 14. |                                       gen_mesh | articl~t |     perc |
     |                      Diabetes Mellitus, Type 1 | 66.44881 | .3263854 |
     |----------------------------------------------------------------------|
     |                               cum_perc                               |
     |                               7.369467                               |
     +----------------------------------------------------------------------+

     +----------------------------------------------------------------------+
 15. |                                       gen_mesh | articl~t |     perc |
     |                                 Mass Screening | 64.54167 | .3170179 |
     |----------------------------------------------------------------------|
     |                               cum_perc                               |
     |                               7.686485                               |
     +----------------------------------------------------------------------+

     +----------------------------------------------------------------------+
 16. |                                       gen_mesh | articl~t |     perc |
     |                          Anti-Bacterial Agents | 64.00754 | .3143943 |
     |----------------------------------------------------------------------|
     |                               cum_perc                               |
     |                               8.000879                               |
     +----------------------------------------------------------------------+

     +----------------------------------------------------------------------+
 17. |                                       gen_mesh | articl~t |     perc |
     | Antineoplastic Combined Chemotherapy Protocols | 63.90675 | .3138992 |
     |----------------------------------------------------------------------|
     |                               cum_perc                               |
     |                               8.314778                               |
     +----------------------------------------------------------------------+

     +----------------------------------------------------------------------+
 18. |                                       gen_mesh | articl~t |     perc |
     |                                        Obesity | 59.02976 | .2899443 |
     |----------------------------------------------------------------------|
     |                               cum_perc                               |
     |                               8.604723                               |
     +----------------------------------------------------------------------+

     +----------------------------------------------------------------------+
 19. |                                       gen_mesh | articl~t |     perc |
     |                                  Heart Failure | 56.59921 | .2780058 |
     |----------------------------------------------------------------------|
     |                               cum_perc                               |
     |                               8.882729                               |
     +----------------------------------------------------------------------+

     +----------------------------------------------------------------------+
 20. |                                       gen_mesh | articl~t |     perc |
     |                              Disease Outbreaks | 56.26349 | .2763568 |
     |----------------------------------------------------------------------|
     |                               cum_perc                               |
     |                               9.159085                               |
     +----------------------------------------------------------------------+

. 
end of do-file

--------------------------------------------------------------------------------
Makelog ended: 2023-06-22 11:45:31
Working directory: /export/home/dor/cxu/innovation_projs/analysis/science_geo/cns_descriptives/code
--------------------------------------------------------------------------------
